<!-- https://github.com/datorklubben/Spelprogrammering-med-JavaScript-och-Canvas -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
      <script src="simple.js">
                  let timeWhenStart = Math.round((new Date()).getTime() / 1000);

          /*Background and wall*/
          fill("green");
          rectangle(5, 5, totalWidth - 10, totalHeight - 10, "black");

          var player = {x:100, y:100, size:5, xSpeed:5, ySpeed:0}
          /*Update är en standard function som alltid behövs*/
          function update(){
              if(random(1,50) === 5){
            circle(player.x + random(1, 500), player.y + random(1,500), 5, "red");
        }
        let length = 10;
              rectangle(player.x, player.y, player.size, player.size, "green");
              player.x += player.xSpeed;
              player.y += player.ySpeed;
                  /*
                    xSpeed = 5 Höger
                    xSpeed = -5 Vänster
                    ySpeed = 5 Nedåt 
                    ySpeed = -5 Uppåt
                  */
              if(keyboard.g){
              }
            
              if(keyboard.w){
                player.ySpeed = -5;
                player.xSpeed = 0;
              }
              if (keyboard.s){
                  player.ySpeed = 5;
                  player.xSpeed = 0;
              }
              if (keyboard.a){
                  player.ySpeed = 0;
                  player.xSpeed = -5;
                  
              }
              if(keyboard.d){
                  player.ySpeed = 0;
                  player.xSpeed = 5;
              }
              if(getPixel(player.x, player.y).red != 0){
                  stopUpdate();
                  let timeWhenEnd = Math.round((new Date()).getTime() / 1000);
                  window.alert("You died because a red idiot in the way! Your Time: " + timeWhenEnd-timeWhenStart);
              }
              if(getPixel(player.x, player.y).green != 0){
                  stopUpdate();
                  let timeWhenEnd = Math.round((new Date()).getTime() / 1000);
                  window.alert("You cant go thru yourself idiot!! Your Time: " + timeWhenEnd-timeWhenStart)
              }
          }

      </script>
</body>
</html>