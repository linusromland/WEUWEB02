<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zombie</title>
    <style>
        *{
            background-color: hotpink;
        }
    </style>
</head>
<body>
    <h1>Time:</h1>
    <h1 id="time"></h1>
    <script src="simple.js">
        
        let timeWhenStart = Math.round((new Date()).getTime() / 1000);
        let zombie = {x: random(totalWidth), y:random(totalHeight), speed:random(1,5)};
        let zombies = [];
        
        
        for(i = 0; i < 1000; i++){
            zombies.push({x: random(totalWidth), y:random(totalHeight), speed:random(1,5)});
        }

        function update(){
            clearScreen();
            let i = 0;
            while(i < 12){
                let zombie = zombies[i];
                let currentTime = Math.round((new Date()).getTime() / 1000);
                currentTime = currentTime-timeWhenStart
                document.getElementById("time").innerHTML =  currentTime; 
                picture(zombie.x, zombie.y, "http://spelprogrammering.nu/bilder/zombie.png");
                if(zombie.x < mouse.x ){
                    zombie.x += zombie.speed;
                }
                else {
                    zombie.x -= zombie.speed;
                }
                if(zombie.y < mouse.y ){
                    zombie.y += zombie.speed;
                }
                else {
                    zombie.y -= zombie.speed;
                }
                if (distance(mouse, zombie) < 5){
                    let timeWhenEnd = Math.round((new Date()).getTime() / 1000);
                    alert("Game over! Your time: " + (timeWhenEnd-timeWhenStart));
                    stopUpdate();
                }
                i += 1;
            }
        }
    </script>
</body>
</html>